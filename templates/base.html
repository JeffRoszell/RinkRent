<!DOCTYPE html>
<html lang="en" data-theme="winter">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}RinkRent{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>
  <style>
    .site-header a:not(.brand), .site-header button { text-decoration: none; font-weight: 500; transition: color 0.15s ease; }
    .site-footer p { letter-spacing: 0.02em; }
  </style>
  {% block extra_head %}{% endblock %}
</head>
<body class="min-h-screen flex flex-col bg-base-100">
  <header class="site-header sticky top-0 z-10 border-b-2 border-primary/20 bg-base-100/95 backdrop-blur-sm">
    <div class="container mx-auto px-4 sm:px-6 flex items-center justify-between h-14 sm:h-16">
      <a href="{% url 'core:home' %}" class="brand text-lg sm:text-xl font-semibold tracking-tight text-primary hover:text-primary/80 transition-colors">RinkRent</a>
      <nav class="flex items-center gap-1 sm:gap-3" aria-label="Main">
        {% if user.is_authenticated %}
          {% if user_has_facility %}
            <a href="{% url 'facilities:dashboard' %}" class="text-base-content/80 hover:text-primary">Facility</a>
          {% else %}
            <a href="{% url 'customers:search' %}" class="text-base-content/80 hover:text-primary">Find ice</a>
            <a href="{% url 'customers:my_bookings' %}" class="text-base-content/80 hover:text-primary">My bookings</a>
          {% endif %}
          <form method="post" action="{% url 'core:logout' %}" class="inline ml-1 sm:ml-2">
            {% csrf_token %}
            <button type="submit" class="cursor-pointer bg-transparent border-0 p-0 font-inherit text-base-content/80 hover:text-primary">Log out</button>
          </form>
        {% else %}
          <a href="{% url 'core:login' %}" class="text-base-content/80 hover:text-primary">Log in</a>
          <a href="{% url 'core:register' %}" class="rounded-full bg-primary text-primary-content px-4 py-2 text-sm font-medium hover:opacity-90 transition-opacity">Sign up</a>
        {% endif %}
      </nav>
    </div>
  </header>
  <main class="flex-1 container mx-auto p-4">
    {% if messages %}
      <div class="space-y-2 mb-4">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}" role="alert">
            <span>{{ message }}</span>
          </div>
        {% endfor %}
      </div>
    {% endif %}
    {% block content %}{% endblock %}
  </main>
  <footer class="site-footer mt-auto border-t-2 border-primary/20 bg-primary/5 py-6 sm:py-8">
    <div class="container mx-auto px-4 text-center">
      <p class="text-sm text-base-content/80"><span class="font-semibold text-primary">RinkRent</span> — Find and book ice time. ⛸️</p>
    </div>
  </footer>
  {% block extra_js %}{% endblock %}
</body>
</html>
